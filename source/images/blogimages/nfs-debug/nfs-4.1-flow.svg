<svg version="1.1" id="mscgenjs__svg" class="mscgenjs__svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="736" height="728" viewBox="0 0 736 728"><desc>

# Generated by mscgen_js - https://sverweij.github.io/mscgen_js
msc {
  wordwraparcs=on,
  hscale="1.05";

  alice [label="Alice", linecolor="darkgreen", textcolor="white", textbgcolor="darkgreen", arclinecolor="darkgreen", arctextcolor="darkgreen"],
  server [label="NFS Server", linecolor="#3a5795", textcolor="white", textbgcolor="#3a5795", arclinecolor="#3a5795", arctextcolor="#3a5795"],
  bob [label="Bob", linecolor="darkgreen", textcolor="white", textbgcolor="darkgreen", arclinecolor="darkgreen", arctextcolor="darkgreen"];
  
  alice =&gt; server [label="(1) - OPEN test1.txt"];
  server =&gt; alice [label="OPEN stateid: 0x3000"];
  bob =&gt; server [label="(2) RENAME test2.txt =&gt; test1.txt"];
  server =&gt; bob [label="NFS4ERR_DELAY"];
  server =&gt; alice [label="(3) NFS CB_RECALL"];
  alice =&gt; server [label="NFS CB_RECALL OK"];

  alice =&gt; server [label="(4) DELEGRETURN"];
  server =&gt; alice [label="DELEGRETURN OK"];
  bob =&gt; server [label="(5) RENAME test2.txt =&gt; test1.txt"];
  server =&gt; bob [label="RENAME OK"];
  
  alice alt bob [label="Working cache validation", linecolor="grey", textcolor="black"] {
    alice =&gt; server [label="(6) LOOKUP test1.txt"];
    server =&gt; alice [label="LOOKUP OK"];
    alice =&gt; server [label="(7) OPEN test1.txt"];
    server =&gt; alice [label="OPEN stateid: 0x4000"];
    alice =&gt; server [label="(8) READ stateid: 0x4000"];
  };
} 

</desc><defs><style type="text/css">svg.mscgenjs__svg{font-family:Helvetica,sans-serif;font-size:12px;font-weight:normal;font-style:normal;text-decoration:none;background-color:white;stroke:black;stroke-width:2}.mscgenjs__svg path, .mscgenjs__svg rect{fill:none}.mscgenjs__svg .label-text-background{fill:white;stroke:white;stroke-width:0}.mscgenjs__svg .bglayer{fill:white;stroke:white;stroke-width:0}.mscgenjs__svg line{}.mscgenjs__svg .return, .mscgenjs__svg .comment{stroke-dasharray:5,3}.mscgenjs__svg .inline_expression_divider{stroke-dasharray:10,5}.mscgenjs__svg text{color:inherit;stroke:none;text-anchor:middle}.mscgenjs__svg text.anchor-start{text-anchor:start}.mscgenjs__svg .arrow-marker{overflow:visible}.mscgenjs__svg .arrow-style{stroke-width:1}.mscgenjs__svg .arcrow, .mscgenjs__svg .arcrowomit, .mscgenjs__svg .emphasised{stroke-linecap:butt}.mscgenjs__svg .arcrowomit{stroke-dasharray:2,2}.mscgenjs__svg .box, .mscgenjs__svg .entity{fill:white;stroke-linejoin:round}.mscgenjs__svg .inherit{stroke:inherit;color:inherit}.mscgenjs__svg .inherit-fill{fill:inherit}.mscgenjs__svg .watermark{font-size:48pt;font-weight:bold;opacity:0.14}</style><marker orient="auto" id="mscgenjs__svgmethod-#3a5795" class="arrow-marker" viewBox="0 0 10 10" refX="9" refY="3" markerUnits="strokeWidth" markerWidth="10" markerHeight="10"><polygon points="1,1  9,3  1,5" class="arrow-style" stroke="#3a5795" fill="#3a5795"></polygon></marker><marker orient="auto" id="mscgenjs__svgmethod-l-#3a5795" class="arrow-marker" viewBox="0 0 10 10" refX="9" refY="3" markerUnits="strokeWidth" markerWidth="10" markerHeight="10"><polygon points="17,1 9,3 17,5" class="arrow-style" stroke="#3a5795" fill="#3a5795"></polygon></marker><marker orient="auto" id="mscgenjs__svgmethod-darkgreen" class="arrow-marker" viewBox="0 0 10 10" refX="9" refY="3" markerUnits="strokeWidth" markerWidth="10" markerHeight="10"><polygon points="1,1  9,3  1,5" class="arrow-style" stroke="darkgreen" fill="darkgreen"></polygon></marker><marker orient="auto" id="mscgenjs__svgmethod-l-darkgreen" class="arrow-marker" viewBox="0 0 10 10" refX="9" refY="3" markerUnits="strokeWidth" markerWidth="10" markerHeight="10"><polygon points="17,1 9,3 17,5" class="arrow-style" stroke="darkgreen" fill="darkgreen"></polygon></marker></defs><g id="mscgenjs__svg_body" transform="translate(53,3) scale(1,1)"><g id="mscgenjs__svg_background"><rect width="736" height="728" x="-53" y="-3" class="bglayer"></rect></g><g id="mscgenjs__svg_arcspans"><rect width="720" height="228" x="-45" y="475" class="box inline_expression alt" style="stroke:grey;"></rect></g><g id="mscgenjs__svg_lifelines"><line x1="75" y1="38" x2="75" y2="76" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="38" x2="315" y2="76" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="38" x2="555" y2="76" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="76" x2="75" y2="114" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="76" x2="315" y2="114" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="76" x2="555" y2="114" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="114" x2="75" y2="152" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="114" x2="315" y2="152" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="114" x2="555" y2="152" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="152" x2="75" y2="190" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="152" x2="315" y2="190" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="152" x2="555" y2="190" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="190" x2="75" y2="228" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="190" x2="315" y2="228" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="190" x2="555" y2="228" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="228" x2="75" y2="266" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="228" x2="315" y2="266" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="228" x2="555" y2="266" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="266" x2="75" y2="304" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="266" x2="315" y2="304" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="266" x2="555" y2="304" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="304" x2="75" y2="342" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="304" x2="315" y2="342" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="304" x2="555" y2="342" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="342" x2="75" y2="380" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="342" x2="315" y2="380" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="342" x2="555" y2="380" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="380" x2="75" y2="418" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="380" x2="315" y2="418" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="380" x2="555" y2="418" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="418" x2="75" y2="456" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="418" x2="315" y2="456" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="418" x2="555" y2="456" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="456" x2="75" y2="494" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="456" x2="315" y2="494" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="456" x2="555" y2="494" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="494" x2="75" y2="532" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="494" x2="315" y2="532" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="494" x2="555" y2="532" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="532" x2="75" y2="570" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="532" x2="315" y2="570" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="532" x2="555" y2="570" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="570" x2="75" y2="608" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="570" x2="315" y2="608" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="570" x2="555" y2="608" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="608" x2="75" y2="646" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="608" x2="315" y2="646" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="608" x2="555" y2="646" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="646" x2="75" y2="684" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="646" x2="315" y2="684" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="646" x2="555" y2="684" class="arcrow" style="stroke:darkgreen;"></line><line x1="75" y1="684" x2="75" y2="722" class="arcrow" style="stroke:darkgreen;"></line><line x1="315" y1="684" x2="315" y2="722" class="arcrow" style="stroke:#3a5795;"></line><line x1="555" y1="684" x2="555" y2="722" class="arcrow" style="stroke:darkgreen;"></line></g><g id="mscgenjs__svg_sequence"><g><g><rect width="150" height="38" class="entity" style="fill:darkgreen;stroke:darkgreen;"></rect><g><text x="75" y="22.5" class="entity-text " style="fill:white;"><tspan>Alice</tspan></text></g></g><g><rect width="150" height="38" x="240" class="entity" style="fill:#3a5795;stroke:#3a5795;"></rect><g><text x="315" y="22.5" class="entity-text " style="fill:white;"><tspan>NFS Server</tspan></text></g></g><g><rect width="150" height="38" x="480" class="entity" style="fill:darkgreen;stroke:darkgreen;"></rect><g><text x="555" y="22.5" class="entity-text " style="fill:white;"><tspan>Bob</tspan></text></g></g></g><g><line x1="75" y1="95" x2="315" y2="95" class="arc directional method" style="stroke:darkgreen" marker-end="url(#mscgenjs__svgmethod-darkgreen)"></line><g><rect width="104.69" height="14" x="142.64" y="79.5" class="label-text-background"></rect><text x="195" y="90.5" class="directional-text method-text " style="fill:darkgreen;"><tspan>(1) - OPEN test1.txt</tspan></text></g></g><g><line x1="315" y1="133" x2="75" y2="133" class="arc directional method" style="stroke:#3a5795" marker-end="url(#mscgenjs__svgmethod-#3a5795)"></line><g><rect width="118.73" height="14" x="135.63" y="117.5" class="label-text-background"></rect><text x="195" y="128.5" class="directional-text method-text " style="fill:#3a5795;"><tspan>OPEN stateid: 0x3000</tspan></text></g></g><g><line x1="555" y1="171" x2="315" y2="171" class="arc directional method" style="stroke:darkgreen" marker-end="url(#mscgenjs__svgmethod-darkgreen)"></line><g><rect width="177.39" height="14" x="346.3" y="155.5" class="label-text-background"></rect><text x="435" y="166.5" class="directional-text method-text " style="fill:darkgreen;"><tspan>(2) RENAME test2.txt =&gt; test1.txt</tspan></text></g></g><g><line x1="315" y1="209" x2="555" y2="209" class="arc directional method" style="stroke:#3a5795" marker-end="url(#mscgenjs__svgmethod-#3a5795)"></line><g><rect width="101.14" height="14" x="384.42" y="193.5" class="label-text-background"></rect><text x="435" y="204.5" class="directional-text method-text " style="fill:#3a5795;"><tspan>NFS4ERR_DELAY</tspan></text></g></g><g><line x1="315" y1="247" x2="75" y2="247" class="arc directional method" style="stroke:#3a5795" marker-end="url(#mscgenjs__svgmethod-#3a5795)"></line><g><rect width="115.36" height="14" x="137.31" y="231.5" class="label-text-background"></rect><text x="195" y="242.5" class="directional-text method-text " style="fill:#3a5795;"><tspan>(3) NFS CB_RECALL</tspan></text></g></g><g><line x1="75" y1="285" x2="315" y2="285" class="arc directional method" style="stroke:darkgreen" marker-end="url(#mscgenjs__svgmethod-darkgreen)"></line><g><rect width="118.03" height="14" x="135.97" y="269.5" class="label-text-background"></rect><text x="195" y="280.5" class="directional-text method-text " style="fill:darkgreen;"><tspan>NFS CB_RECALL OK</tspan></text></g></g><g><line x1="75" y1="323" x2="315" y2="323" class="arc directional method" style="stroke:darkgreen" marker-end="url(#mscgenjs__svgmethod-darkgreen)"></line><g><rect width="108.67" height="14" x="140.66" y="307.5" class="label-text-background"></rect><text x="195" y="318.5" class="directional-text method-text " style="fill:darkgreen;"><tspan>(4) DELEGRETURN</tspan></text></g></g><g><line x1="315" y1="361" x2="75" y2="361" class="arc directional method" style="stroke:#3a5795" marker-end="url(#mscgenjs__svgmethod-#3a5795)"></line><g><rect width="111.34" height="14" x="139.31" y="345.5" class="label-text-background"></rect><text x="195" y="356.5" class="directional-text method-text " style="fill:#3a5795;"><tspan>DELEGRETURN OK</tspan></text></g></g><g><line x1="555" y1="399" x2="315" y2="399" class="arc directional method" style="stroke:darkgreen" marker-end="url(#mscgenjs__svgmethod-darkgreen)"></line><g><rect width="177.39" height="14" x="346.3" y="383.5" class="label-text-background"></rect><text x="435" y="394.5" class="directional-text method-text " style="fill:darkgreen;"><tspan>(5) RENAME test2.txt =&gt; test1.txt</tspan></text></g></g><g><line x1="315" y1="437" x2="555" y2="437" class="arc directional method" style="stroke:#3a5795" marker-end="url(#mscgenjs__svgmethod-#3a5795)"></line><g><rect width="72" height="14" x="398.98" y="421.5" class="label-text-background"></rect><text x="435" y="432.5" class="directional-text method-text " style="fill:#3a5795;"><tspan>RENAME OK</tspan></text></g></g><g><line x1="75" y1="513" x2="315" y2="513" class="arc directional method" style="stroke:darkgreen" marker-end="url(#mscgenjs__svgmethod-darkgreen)"></line><g><rect width="113.36" height="14" x="138.31" y="497.5" class="label-text-background"></rect><text x="195" y="508.5" class="directional-text method-text " style="fill:darkgreen;"><tspan>(6) LOOKUP test1.txt</tspan></text></g></g><g><line x1="315" y1="551" x2="75" y2="551" class="arc directional method" style="stroke:#3a5795" marker-end="url(#mscgenjs__svgmethod-#3a5795)"></line><g><rect width="70.69" height="14" x="159.66" y="535.5" class="label-text-background"></rect><text x="195" y="546.5" class="directional-text method-text " style="fill:#3a5795;"><tspan>LOOKUP OK</tspan></text></g></g><g><line x1="75" y1="589" x2="315" y2="589" class="arc directional method" style="stroke:darkgreen" marker-end="url(#mscgenjs__svgmethod-darkgreen)"></line><g><rect width="97.36" height="14" x="146.31" y="573.5" class="label-text-background"></rect><text x="195" y="584.5" class="directional-text method-text " style="fill:darkgreen;"><tspan>(7) OPEN test1.txt</tspan></text></g></g><g><line x1="315" y1="627" x2="75" y2="627" class="arc directional method" style="stroke:#3a5795" marker-end="url(#mscgenjs__svgmethod-#3a5795)"></line><g><rect width="118.73" height="14" x="135.63" y="611.5" class="label-text-background"></rect><text x="195" y="622.5" class="directional-text method-text " style="fill:#3a5795;"><tspan>OPEN stateid: 0x4000</tspan></text></g></g><g><line x1="75" y1="665" x2="315" y2="665" class="arc directional method" style="stroke:darkgreen" marker-end="url(#mscgenjs__svgmethod-darkgreen)"></line><g><rect width="136.06" height="14" x="126.95" y="649.5" class="label-text-background"></rect><text x="195" y="660.5" class="directional-text method-text " style="fill:darkgreen;"><tspan>(8) READ stateid: 0x4000</tspan></text></g></g><g></g></g><g id="mscgenjs__svg_notes"><g><path d="M-44,475 l161.53,0 l0,11 l-7,7 l-154.53,0 " class="box inline_expression_label" style="stroke:grey;"></path><g><text x="-42" y="488" class="inline_expression-text alt-text anchor-start " style="fill:black;"><tspan>alt: Working cache validation</tspan></text></g></g></g><g id="mscgenjs__svg_watermark"></g></g></svg>
